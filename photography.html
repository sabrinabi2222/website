<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Photography ‚Äì Made by Goo</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="photography.css" />
</head>

<body>
  <header>
    <div class="marquee"><span>üßµ made by goo ‚úÇÔ∏è</span></div>
    <h1>Photography</h1>
    <nav>
      <a href="index.html">About</a>
      <a href="sewing.html">Sewing</a>
      <a href="photography.html" aria-current="page">Photography</a>
    </nav>
  </header>

  <main>
    <div id="projects">
      <p class="muted">Loading‚Ä¶</p>
    </div>
  </main>

  <!-- ========= Local / CDN toggle + helpers ========= -->
  <script>
    const USE_LOCAL = true; // set to false if you want to fall back to Cloudinary

    function safeKey(u) {
      if (!u || !u.includes('/upload/')) return '';
      let tail = u.split('/upload/')[1].split('?')[0]; // after /upload/
      tail = tail.replace(/\.[^.]+$/, '');             // strip ext
      return tail.replace(/[\/\\]/g, '-');             // folders -> hyphens
    }

    function localPaths(u, type) {
      const k = safeKey(u);
      if (!k) return {};
      if (type === 'image') {
        return {
          grid:  `media/photos/grid/${k}.jpg`,
          large: `media/photos/large/${k}.jpg`,
        };
      } else if (type === 'video') {
        return {
          grid:   `media/videos/grid/${k}.mp4`,
          large:  `media/videos/large/${k}.mp4`,
          poster: `media/videos/posters/${k}.jpg`,
        };
      }
      return {};
    }

    // Cloudinary fallbacks
    function cdnImage(u, kind) {
      return u.includes('/image/upload/')
        ? u.replace('/image/upload/', '/image/upload/f_auto,q_auto,' + (kind === 'large' ? 'w_1600' : 'w_900') + '/')
        : u;
    }
    function cdnVideo(u, kind) {
      if (!u.includes('/video/upload/')) return u;
      const tx = (kind === 'large')
        ? 'e_volume:mute,c_limit,w_1280,fps_30,br_2m,q_auto:good,vc_h264,f_mp4'
        : 'e_volume:mute,c_limit,w_720,fps_30,br_1m,q_auto:good,vc_h264,f_mp4';
      return u.replace('/video/upload/', '/video/upload/' + tx + '/');
    }
    function cdnPoster(u) {
      if (!u.includes('/video/upload/')) return '';
      const [L, R] = u.split('/video/upload/');
      const base =
